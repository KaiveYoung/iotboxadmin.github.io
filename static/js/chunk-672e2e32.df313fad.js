(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-672e2e32"],{"0293":function(t,e,n){var a=n("241e"),i=n("53e2");n("ce7e")("getPrototypeOf",function(){return function(t){return i(a(t))}})},"061b":function(t,e,n){t.exports=n("fa99")},1353:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"名称",clearable:""},on:{input:t.handleFilter},model:{value:t.query.keywords,callback:function(e){t.$set(t.query,"keywords",e)},expression:"query.keywords"}}),t._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("添加\n    ")])],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"app-table",attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{fixed:"left",label:"操作",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",[n("el-button",{staticStyle:{padding:"5px 1px",width:"70px",display:"flex","justify-content":"space-around"},attrs:{type:"primary"}},[t._v("\n            更多"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(n){return t.detail(e.row.id)}}},[t._v("详情")])],1),t._v(" "),n("el-dropdown-item",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.handleEdit(e.row)}}},[t._v("备注")])],1),t._v(" "),n("el-dropdown-item",[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return t.handleDelete(e.row.id)}}},[t._v("删除")])],1)],1)],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"ID",align:"center","min-width":"50"}}),t._v(" "),n("el-table-column",{attrs:{label:"出货时间",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.send_time))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"公司名称",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.custom))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"产品详情",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{display:"flex","flex-direction":"column"}},t._l(e.row.sell_order_goods,function(e,a){return n("span",{key:a},[t._v(t._s(e.goods+"["+e.count+"个]"))])}),0)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"总价",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.total_price))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"税费",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.tax_fee))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"发票",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.invoice?n("viewer",[n("img",{staticClass:"avatar",attrs:{src:t.$tools.getImgUrl(e.row.invoice)}})]):0===e.row.tax_fee?n("span",[t._v("无发票")]):n("Upload",{attrs:{id:e.row.id},on:{"upload-success":t.uploadSuccess},model:{value:e.row.invoice,callback:function(n){t.$set(e.row,"invoice",n)},expression:"scope.row.invoice"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"税后价",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("count-to",{attrs:{"start-val":0,decimals:2,separator:",","end-val":t.row.total_price-t.row.tax_fee,duration:1}})]}}])})],1),t._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{"current-page":t.pagination.page,"page-sizes":[10,20,30,50],"page-size":t.pagination.limit,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),n("el-dialog",{staticClass:"dialogCl",attrs:{title:t.textMap[t.dialogStatus],"close-on-click-modal":!1,visible:t.dialogFormDetail,width:"80%"},on:{"update:visible":function(e){t.dialogFormDetail=e}}},[n("el-col",[n("h3",{staticStyle:{display:"inline-block"}},[t._v("交易详情")]),t._v(" "),n("span",{staticStyle:{display:"inline-block","margin-left":"50px"}},[t._v(t._s(t.listx.custom))])]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.listx.sell_order_goods}},[n("el-table-column",{attrs:{label:"收货时间",align:"center",width:"100"}},[[n("span",[t._v(t._s(t.listx.send_time))])]],2),t._v(" "),n("el-table-column",{attrs:{label:"产品名称",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.goods))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"产品数量",align:"center","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.count))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"单价",align:"center","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.unit_price)+" 元")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"税率",align:"center","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.tax_rate)+"%")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"税费",align:"center","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.tax_fee)+" 元")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"不含税价",align:"center","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.total_price-e.row.tax_fee)+" 元")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"总价",align:"center","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.total_price)+" 元")])]}}])})],1),t._v(" "),n("div",{staticStyle:{"margin-top":"8px","margin-left":"25px"}},[t._v("备注:"+t._s(t.listx.remark))]),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("count-to",{staticStyle:{color:"red","margin-right":"50px"},attrs:{"start-val":0,decimals:2,prefix:"总价: ¥ ",suffix:" 元",separator:",","end-val":t.listx.total_price,duration:1}}),t._v(" "),n("count-to",{staticStyle:{color:"red","margin-right":"50px"},attrs:{"start-val":0,decimals:2,prefix:"税费: ¥ ",suffix:" 元",separator:",","end-val":t.listx.tax_fee,duration:1}}),t._v(" "),n("count-to",{staticStyle:{color:"red","margin-right":"50px"},attrs:{"start-val":0,decimals:2,prefix:"税后价: ¥ ",suffix:" 元",separator:",","end-val":t.listx.total_price-t.listx.tax_fee,duration:1}}),t._v(" "),n("el-button",{on:{click:function(e){t.dialogFormDetail=!1}}},[t._v("关闭")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],"close-on-click-modal":!1,visible:t.dialogFormVisible,width:"80%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{ref:"dataForm",staticStyle:{"margin-left":"50px","margin-right":"100px"},attrs:{model:t.tempInfo,"label-position":"left","label-width":"100px"}},[n("div",{staticStyle:{display:"flex"}},[n("el-form-item",{staticStyle:{flex:"1"},attrs:{label:"购买方公司",rules:[{required:!0,message:"请搜索选择名称",trigger:"blur"}],prop:"custom_id"}},[n("RemoteSelect",{ref:"rsSelect",staticStyle:{width:"100%"},attrs:{label:"company_name",showone:t.showone,dao:t.custom_dao},model:{value:t.tempInfo.custom_id,callback:function(e){t.$set(t.tempInfo,"custom_id",e)},expression:"tempInfo.custom_id"}})],1),t._v(" "),n("el-form-item",{staticStyle:{width:"100%",flex:"1","margin-left":"50px"},attrs:{label:"发货时间",rules:[{required:!0,message:"请选择收货时间",trigger:"blur"}],prop:"send_time"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",align:"right",type:"date",placeholder:"选择日期"},model:{value:t.tempInfo.send_time,callback:function(e){t.$set(t.tempInfo,"send_time",e)},expression:"tempInfo.send_time"}})],1)],1),t._v(" "),n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableItems}},[n("el-table-column",{attrs:{prop:"goods",align:"center",label:"商品名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"unit_price",align:"center",label:"单价"}}),t._v(" "),n("el-table-column",{attrs:{prop:"count",align:"center",label:"数量"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"总价"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.unit_price*e.row.count)+"\n            ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"tax_rate",align:"center",label:"税率"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.tax_rate)+"%\n            ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"tax_rate",align:"center",label:"税费"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t.$tools.tofix2(e.row.unit_price*e.row.count*e.row.tax_rate*.01/(1+.01*e.row.tax_rate)))+"\n            ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),t.deleteRow(e.$index,t.tableItems)}}},[t._v("\n                移除\n              ")])]}}])})],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.temp_goods,"show-header":!1,"max-height":"350"}},[n("el-table-column",{attrs:{prop:"goods",label:"商品名称",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("RemoteSelect",{ref:"tablist",staticStyle:{width:"100%"},attrs:{placeholder:"请选择商品",label:"name",dao:t.goods_dao},on:{onchange:t.remoteSelectChange},model:{value:e.row.goods_id,callback:function(n){t.$set(e.row,"goods_id",n)},expression:"scope.row.goods_id"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"unit_price",label:"单价",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{ref:"uPrice",attrs:{placeholder:"请输入单价"},model:{value:e.row.unit_price,callback:function(n){t.$set(e.row,"unit_price",n)},expression:"scope.row.unit_price"}},[n("template",{slot:"append"},[t._v("元")])],2)]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"tax_rate",label:"税率"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{ref:"trate",attrs:{placeholder:"请选择税率"},model:{value:e.row.tax_rate,callback:function(n){t.$set(e.row,"tax_rate",n)},expression:"scope.row.tax_rate"}},t._l(t.optionstax,function(t){return n("el-option",{key:t.value,attrs:{label:t.value+"%",value:t.value}})}),1)]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"count",label:"数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{ref:"countnum",attrs:{placeholder:"请输入数量"},model:{value:e.row.count,callback:function(n){t.$set(e.row,"count",n)},expression:"scope.row.count"}},[n("template",{slot:"append"},[t._v("个")])],2)]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),t.addRow(e.$index)}}},[t._v("\n                添加\n              ")])]}}])})],1)],1)]),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-form",{ref:"dataForm",staticStyle:{"margin-left":"50px","margin-right":"100px"},attrs:{model:t.tempInfo,"label-position":"left","label-width":"100px"}},[n("el-form-item",{attrs:{label:"备注",prop:""}},[n("el-input",{attrs:{placeholder:"请输入备注",clearable:""},model:{value:t.tempInfo.remark,callback:function(e){t.$set(t.tempInfo,"remark",e)},expression:"tempInfo.remark"}})],1)],1),t._v(" "),n("count-to",{staticStyle:{color:"red","margin-right":"50px"},attrs:{"start-val":0,decimals:2,prefix:"价格: ¥ ",suffix:" 元",separator:",","end-val":isNaN(t.tempInfo.price)?0:t.tempInfo.price,duration:1}}),t._v(" "),n("count-to",{staticStyle:{color:"red","margin-right":"50px","text-decoration":"underline"},attrs:{"start-val":0,decimals:2,prefix:"税费: ¥ ",suffix:" 元",separator:",","end-val":isNaN(t.tempInfo.tax_fee)?0:t.tempInfo.tax_fee,duration:1}}),t._v(" "),n("count-to",{staticStyle:{color:"red","margin-right":"50px"},attrs:{"start-val":0,decimals:2,prefix:"总计: ¥ ",suffix:" 元",separator:",","end-val":isNaN(t.tempInfo.price-t.tempInfo.tax_fee)?0:t.tempInfo.price-t.tempInfo.tax_fee,duration:1}}),t._v(" "),"create"===t.dialogStatus?n("el-button",{attrs:{type:"primary"},on:{click:t.createData}},[t._v("创建")]):t._e(),t._v(" "),n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")])],1)],1)],1)},i=[],o=(n("7f7f"),n("c5f6"),n("ac6a"),n("d225")),r=n("308d"),l=n("6bb5"),s=n("4e2b"),u=n("a417"),c=function(t){function e(){return Object(o["a"])(this,e),Object(r["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(s["a"])(e,t),e}(u["a"]),d=new c("/manager/sell_order"),f=n("9ede"),p=n("3ac8"),m=n("a756"),h=n("1c63"),_=n("ec1b"),b=n.n(_),g=n("cb4a"),v={name:"SellOrder",components:{RemoteSelect:m["a"],CountTo:b.a,Upload:g["a"]},mixins:[h["a"]],data:function(){return{showone:null,loading:!1,custom_dao:p["a"],goods_dao:f["a"],temp:{id:null,create_time:null,title:""},temp_goods:[{goods_id:null,unit_price:null,count:null,tax_rate:null}],tableItems:[],Data:{},optionstax:[{value:0},{value:3},{value:6},{value:11},{value:13}],money:{unit_price:null},dao:d,dialogVerifyVisible:!1,dialogFormDetail:!1,options:[],value:[],list:[],select_loading:!1,custom_id:null,listx:[]}},watch:{list:function(){this.list.forEach(function(t,e){t.tax_fee&&(t.tax_fee=t.tax_fee.toFixed(2),t.price=t.price.toFixed(2))})},dialogFormVisible:function(){this.$refs.rsSelect&&(this.$refs.rsSelect.obj="",this.$refs.tablist.obj="",this.temp_goods=[{goods_id:null,unit_price:null,count:null,tax_rate:null}])}},methods:{handleEdit:function(t){var e=this;this.$prompt("请修改备注","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:t.remark}).then(function(n){var a=n.value;e.dao.updateObject(t.id,{remark:a}).then(function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},uploadSuccess:function(t){var e=this;this.dao.updateObject(t.id,{invoice:t.url}).then(function(){e.getList(),e.$notify({title:"成功",message:"发票上传成功",type:"success",duration:2e3})})},remoteSelectChange:function(t){this.money.unit_price=null!==t?Number(t.price):0,this.temp_goods[0].unit_price=null!==t?Number(t.price):0,this.temp_goods[0].goods=t.name},deleteRow:function(t,e){e.splice(t,1),this.numList()},sum:function(t){for(var e=0,n=t.length-1;n>=0;n--)e+=t[n];return e},numList:function(){var t=[];this.tableItems.forEach(function(e,n){t.push(Number(e.unit_price?e.unit_price:0)*Number(e.count?e.count:0))}),this.tempInfo.price=this.sum(t);var e=[];this.tableItems.forEach(function(t,n){e.push(Number(t.unit_price?t.unit_price:0)*Number(t.tax_rate?t.tax_rate:0)*.01/(1+.01*t.tax_rate))}),this.tempInfo.tax_fee=this.sum(e)},addRow:function(t){this.temp_goods[0].goods_id&&this.temp_goods[0].unit_price&&this.temp_goods[0].goods_id&&this.temp_goods[0].tax_rate>=0&&this.temp_goods[0].count>0?(this.tableItems.push(this.temp_goods[0]),this.tempInfo.sell_order_goods=this.tableItems,this.$refs.rsSelect&&(this.$refs.tablist.obj="",this.temp_goods=[{goods_id:null,unit_price:null,count:null,tax_rate:null}]),this.numList()):this.$message.error("信息填写不完整")},indexMethod:function(t){return t+1+(this.pagination.page-1)*this.pagination.limit},createData:function(){var t=this,e={custom_id:this.tempInfo.custom_id,sell_order_goods:this.tempInfo.sell_order_goods,remark:this.tempInfo.remark};this.$refs["dataForm"].validate(function(n){if(n){if(!(e.sell_order_goods&&e.sell_order_goods.length>0))return void t.$message.error("请录入货物");t.dao.createObject(t.tempInfo).then(function(){t.getList(),t.dialogFormVisible=!1,t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),t.tableItems=[]})}})},handleCreate:function(){var t=this;this.resetTemp(),this.tempInfo={},this.tableItems=[],this.showone=null,this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},detail:function(t){var e=this;this.resetTemp(),this.dialogFormDetail=!0,this.dao.fetchObject(t).then(function(t){e.listx=t.data})}}},y=v,w=(n("8201"),n("422a"),n("2877")),x=Object(w["a"])(y,a,i,!1,null,"3b2df550",null);e["default"]=x.exports},"19de":function(t,e){t.exports=function(t,e,n,a){var i="undefined"!==typeof a?[a,t]:[t],o=new Blob(i,{type:n||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(o,e);else{var r=window.URL.createObjectURL(o),l=document.createElement("a");l.style.display="none",l.href=r,l.setAttribute("download",e),"undefined"===typeof l.download&&l.setAttribute("target","_blank"),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(r)}}},"1c63":function(t,e,n){"use strict";var a=n("ab09"),i=n("19de");e["a"]={components:{DateRange:a["a"]},props:["id"],data:function(){return{dao:null,list:null,total:null,fileDownload:i,footer_data:{count:null,real_fee:null,receivable_fee:null},pagination:{page:1,limit:10},query:{keywords:null,daterange:null},textMap:{update:"编辑",create:"添加"},dialogDetailVisible:!1,listLoading:!0,dialogFormVisible:!1,dialogStatus:"",rules:{},tempInfo:{}}},created:function(){},mounted:function(){this.query=this.$route.params,this.getList()},methods:{gotoTab:function(t,e){this.$router.push({path:t,query:{name:e}}),this.$store.dispatch("addView",this.$route)},indexMethod:function(t){return t+10*this.pagination.page-9},handleFilter:function(){this.pagination.page=1,this.getList()},handleSizeChange:function(t){this.pagination.limit=t,this.getList()},handleCurrentChange:function(t){this.pagination.page=t,this.getList()},onChange:function(t){this.getList()},getList:function(){var t=this;this.listLoading=!0,this.dao.fetchList(this.pagination,this.query).then(function(e){t.list=e.data,t.total=e.count,t.listLoading=!1})},exportList:function(){var t=this;this.dao.exportList(this.pagination,this.query).then(function(e){var n=new Date,a=(t.query.keywords?t.query.keywords:"")+(t.query.daterange?t.query.daterange.start_date+"-"+t.query.daterange.start_date:"")+t.$route.meta.title+"列表-"+"".concat(n.getFullYear()).concat(n.getMonth()<9?"0":"").concat(n.getMonth()+1).concat(n.getDate()<10?"0":"").concat(n.getDate(),".xls");i(e.data,a)})},getOne:function(t){var e=this;this.dao.fetchObject(t).then(function(t){e.tempInfo=t.data})},createData:function(){var t=this;this.$refs["dataForm"].validate(function(t,e){return!!t}),this.dao.createObject(this.tempInfo).then(function(){t.getList(),t.dialogFormVisible=!1,t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})},updateData:function(t){var e=this;this.$refs["dataForm"].validate(function(t){return!!t}),this.dao.updateObject(t,this.tempInfo).then(function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})},deleteData:function(t){var e=this;this.dao.deleteObject(t).then(function(t){e.getList(),e.$message({type:"success",message:"删除成功!"})})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteData(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDetail:function(t){this.dialogDetailVisible=!0,this.getOne(t)},resetTemp:function(){this.tempInfo={}},handleUpdate:function(t){var e=this;this.resetTemp(),this.dialogStatus="update",this.dialogFormVisible=!0,this.getOne(t),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},handleToggledisable:function(t,e,n){var a=this;this.dao.enable(t,{disable:e,reason:n}).then(function(){a.getList(),a.dialogFormVisible=!1,a.$notify({title:"成功",message:e?"禁用成功":"启用成功",type:"success",duration:2e3})})}}}},"1df8":function(t,e,n){var a=n("63b6");a(a.S,"Object",{setPrototypeOf:n("ead6").set})},"25b0":function(t,e,n){n("1df8"),t.exports=n("584a").Object.setPrototypeOf},"2d10":function(t,e,n){},"308d":function(t,e,n){"use strict";var a=n("5d58"),i=n.n(a),o=n("67bb"),r=n.n(o);function l(t){return l="function"===typeof r.a&&"symbol"===typeof i.a?function(t){return typeof t}:function(t){return t&&"function"===typeof r.a&&t.constructor===r.a&&t!==r.a.prototype?"symbol":typeof t},l(t)}function s(t){return s="function"===typeof r.a&&"symbol"===l(i.a)?function(t){return l(t)}:function(t){return t&&"function"===typeof r.a&&t.constructor===r.a&&t!==r.a.prototype?"symbol":l(t)},s(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?u(t):e}n.d(e,"a",function(){return c})},"3ac8":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var a=n("d225"),i=n("308d"),o=n("6bb5"),r=n("4e2b"),l=n("a417"),s=function(t){function e(){return Object(a["a"])(this,e),Object(i["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),e}(l["a"]),u=new s("/manager/custom")},"422a":function(t,e,n){"use strict";var a=n("45f6"),i=n.n(a);i.a},"45f6":function(t,e,n){},"4aa6":function(t,e,n){t.exports=n("dc62")},"4d16":function(t,e,n){t.exports=n("25b0")},"4e2b":function(t,e,n){"use strict";var a=n("4aa6"),i=n.n(a),o=n("4d16"),r=n.n(o);function l(t,e){return l=r.a||function(t,e){return t.__proto__=e,t},l(t,e)}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=i()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}n.d(e,"a",function(){return s})},"5d58":function(t,e,n){t.exports=n("d8d6")},"5dbc":function(t,e,n){var a=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var o,r=e.constructor;return r!==n&&"function"==typeof r&&(o=r.prototype)!==n.prototype&&a(o)&&i&&i(t,o),t}},"67bb":function(t,e,n){t.exports=n("f921")},"6bb5":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var a=n("061b"),i=n.n(a),o=n("4d16"),r=n.n(o);function l(t){return l=r.a?i.a:function(t){return t.__proto__||i()(t)},l(t)}},8201:function(t,e,n){"use strict";var a=n("2d10"),i=n.n(a);i.a},"8b97":function(t,e,n){var a=n("d3f4"),i=n("cb7c"),o=function(t,e){if(i(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:o}},9427:function(t,e,n){var a=n("63b6");a(a.S,"Object",{create:n("a159")})},"9ede":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var a=n("d225"),i=n("308d"),o=n("6bb5"),r=n("4e2b"),l=n("a417"),s=function(t){function e(){return Object(a["a"])(this,e),Object(i["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),e}(l["a"]),u=new s("/manager/goods")},a417:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=n("d225"),i=n("b0b4"),o=n("b775"),r=function(){function t(e){Object(a["a"])(this,t),this.url=e}return Object(i["a"])(t,[{key:"fetchList",value:function(t,e){var n={};if(t)if(t.page){var a=t.page;n["start"]=(a-1)*t.limit,n["limit"]=t.limit}else n["start"]=0,n["limit"]=t.limit;return Object.assign(n,e),Object(o["a"])({url:this.url,method:"get",params:n})}},{key:"exportList",value:function(t,e){return Object(o["a"])({url:"".concat(this.url),method:"export",responseType:"blob",params:e})}},{key:"fetchObject",value:function(t){return Object(o["a"])({url:"".concat(this.url,"/").concat(t),method:"get"})}},{key:"createObject",value:function(t){return Object(o["a"])({url:this.url,method:"post",data:t})}},{key:"updateObject",value:function(t,e){return Object(o["a"])({url:"".concat(this.url,"/").concat(t),method:"put",data:e})}},{key:"deleteObject",value:function(t){return Object(o["a"])({url:"".concat(this.url,"/").concat(t),method:"delete"})}}]),t}()},aa77:function(t,e,n){var a=n("5ca1"),i=n("be13"),o=n("79e5"),r=n("fdef"),l="["+r+"]",s="​",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),d=function(t,e,n){var i={},l=o(function(){return!!r[t]()||s[t]()!=s}),u=i[t]=l?e(f):r[t];n&&(i[n]=u),a(a.P+a.F*l,"String",i)},f=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=d},b0b4:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=n("85f2"),i=n.n(a);function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),i()(t,a.key,a)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}},c5f6:function(t,e,n){"use strict";var a=n("7726"),i=n("69a8"),o=n("2d95"),r=n("5dbc"),l=n("6a99"),s=n("79e5"),u=n("9093").f,c=n("11e9").f,d=n("86cc").f,f=n("aa77").trim,p="Number",m=a[p],h=m,_=m.prototype,b=o(n("2aeb")(_))==p,g="trim"in String.prototype,v=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():f(e,3);var n,a,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+e}for(var r,s=e.slice(2),u=0,c=s.length;u<c;u++)if(r=s.charCodeAt(u),r<48||r>i)return NaN;return parseInt(s,a)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(b?s(function(){_.valueOf.call(n)}):o(n)!=p)?r(new h(v(e)),n,m):v(e)};for(var y,w=n("9e1e")?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(h,y=w[x])&&!i(m,y)&&d(m,y,c(h,y));m.prototype=_,_.constructor=m,n("2aba")(a,p,m)}},d225:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a})},dc62:function(t,e,n){n("9427");var a=n("584a").Object;t.exports=function(t,e){return a.create(t,e)}},ead6:function(t,e,n){var a=n("f772"),i=n("e4ae"),o=function(t,e){if(i(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("d864")(Function.call,n("bf0b").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:o}},ec1b:function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,n){var a=n(4)(n(1),n(5),null,null);t.exports=a.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,n,a){return n*(1-Math.pow(2,-10*t/a))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,a.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,a.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,a.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,a.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,a.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),n=e[0],a=e.length>1?this.decimal+e[1]:"",i=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;i.test(n);)n=n.replace(i,"$1"+this.separator+"$2");return this.prefix+n+a+this.suffix}},destroyed:function(){(0,a.cancelAnimationFrame)(this.rAF)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=i.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",i.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=0,i="webkit moz ms o".split(" "),o=void 0,r=void 0;if("undefined"==typeof window)e.requestAnimationFrame=o=function(){},e.cancelAnimationFrame=r=function(){};else{e.requestAnimationFrame=o=window.requestAnimationFrame,e.cancelAnimationFrame=r=window.cancelAnimationFrame;for(var l=void 0,s=0;s<i.length&&(!o||!r);s++)l=i[s],e.requestAnimationFrame=o=o||window[l+"RequestAnimationFrame"],e.cancelAnimationFrame=r=r||window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"];o&&r||(e.requestAnimationFrame=o=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-a)),i=window.setTimeout(function(){t(e+n)},n);return a=e+n,i},e.cancelAnimationFrame=r=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=o,e.cancelAnimationFrame=r},function(t,e){t.exports=function(t,e,n,a){var i,o=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(i=t,o=t.default);var l="function"==typeof o?o.options:o;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),n&&(l._scopeId=n),a){var s=Object.create(l.computed||null);Object.keys(a).forEach(function(t){var e=a[t];s[t]=function(){return e}}),l.computed=s}return{esModule:i,exports:o,options:l}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])})},fa99:function(t,e,n){n("0293"),t.exports=n("584a").Object.getPrototypeOf},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);