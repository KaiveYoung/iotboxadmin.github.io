(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc75044c"],{"0293":function(t,e,n){var i=n("241e"),a=n("53e2");n("ce7e")("getPrototypeOf",function(){return function(t){return a(i(t))}})},"061b":function(t,e,n){t.exports=n("fa99")},"19de":function(t,e){t.exports=function(t,e,n,i){var a="undefined"!==typeof i?[i,t]:[t],o=new Blob(a,{type:n||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(o,e);else{var r=window.URL.createObjectURL(o),c=document.createElement("a");c.style.display="none",c.href=r,c.setAttribute("download",e),"undefined"===typeof c.download&&c.setAttribute("target","_blank"),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(r)}}},"1c63":function(t,e,n){"use strict";var i=n("ab09"),a=n("19de");e["a"]={components:{DateRange:i["a"]},props:["id"],data:function(){return{dao:null,list:null,total:null,fileDownload:a,footer_data:{count:null,real_fee:null,receivable_fee:null},pagination:{page:1,limit:10},query:{keywords:null,daterange:null},textMap:{update:"编辑",create:"添加"},dialogDetailVisible:!1,listLoading:!0,dialogFormVisible:!1,dialogStatus:"",rules:{},tempInfo:{}}},created:function(){},mounted:function(){this.query=this.$route.params,this.getList()},methods:{gotoTab:function(t,e){this.$router.push({path:t,query:{name:e}}),this.$store.dispatch("addView",this.$route)},indexMethod:function(t){return t+10*this.pagination.page-9},handleFilter:function(){this.pagination.page=1,this.getList()},handleSizeChange:function(t){this.pagination.limit=t,this.getList()},handleCurrentChange:function(t){this.pagination.page=t,this.getList()},onChange:function(t){this.getList()},getList:function(){var t=this;this.listLoading=!0,this.dao.fetchList(this.pagination,this.query).then(function(e){t.list=e.data,t.total=e.count,t.listLoading=!1})},exportList:function(){var t=this;this.dao.exportList(this.pagination,this.query).then(function(e){var n=new Date,i=(t.query.keywords?t.query.keywords:"")+(t.query.daterange?t.query.daterange.start_date+"-"+t.query.daterange.start_date:"")+t.$route.meta.title+"列表-"+"".concat(n.getFullYear()).concat(n.getMonth()<9?"0":"").concat(n.getMonth()+1).concat(n.getDate()<10?"0":"").concat(n.getDate(),".xls");a(e.data,i)})},getOne:function(t){var e=this;this.dao.fetchObject(t).then(function(t){e.tempInfo=t.data})},createData:function(){var t=this;this.$refs["dataForm"].validate(function(t,e){return!!t}),this.dao.createObject(this.tempInfo).then(function(){t.getList(),t.dialogFormVisible=!1,t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})},updateData:function(t){var e=this;this.$refs["dataForm"].validate(function(t){return!!t}),this.dao.updateObject(t,this.tempInfo).then(function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})},deleteData:function(t){var e=this;this.dao.deleteObject(t).then(function(t){e.getList(),e.$message({type:"success",message:"删除成功!"})})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteData(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDetail:function(t){this.dialogDetailVisible=!0,this.getOne(t)},resetTemp:function(){this.tempInfo={}},handleUpdate:function(t){var e=this;this.resetTemp(),this.dialogStatus="update",this.dialogFormVisible=!0,this.getOne(t),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},handleToggledisable:function(t,e,n){var i=this;this.dao.enable(t,{disable:e,reason:n}).then(function(){i.getList(),i.dialogFormVisible=!1,i.$notify({title:"成功",message:e?"禁用成功":"启用成功",type:"success",duration:2e3})})}}}},"1df8":function(t,e,n){var i=n("63b6");i(i.S,"Object",{setPrototypeOf:n("ead6").set})},"25b0":function(t,e,n){n("1df8"),t.exports=n("584a").Object.setPrototypeOf},"29de":function(t,e,n){"use strict";var i=n("b25c"),a=n.n(i);a.a},"2a3a":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"名称",clearable:""},on:{input:t.handleFilter},model:{value:t.query.keywords,callback:function(e){t.$set(t.query,"keywords",e)},expression:"query.keywords"}}),t._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("添加\n    ")])],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticClass:"app-table",attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{fixed:"left",label:"操作",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",[n("el-button",{staticStyle:{padding:"5px 1px",width:"70px",display:"flex","justify-content":"space-around"},attrs:{type:"primary"}},[t._v("\n            更多"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.handleUpdate(e.row.id)}}},[t._v("编辑")])],1),t._v(" "),n("el-dropdown-item",[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return t.handleDelete(e.row.id)}}},[t._v("删除")])],1)],1)],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"ID",align:"center","min-width":"50"}}),t._v(" "),n("el-table-column",{attrs:{label:"设备名称",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"设备型号",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.model))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"巫迪产品",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.woody?"是":"否"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"历史总量",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.total_count))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"库存数量",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.library_count))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"单价",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.price))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"图片",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("viewer",[n("img",{staticStyle:{height:"28px"},attrs:{src:t.$tools.getImgUrl(e.row.img)}})])]}}])})],1),t._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{"current-page":t.pagination.page,"page-sizes":[10,20,30,50],"page-size":t.pagination.limit,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),n("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],"close-on-click-modal":!1,visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{ref:"dataForm",staticStyle:{"margin-left":"50px"},attrs:{rules:{name:[{required:!0,message:"请输入设备名称",trigger:"blur"}],code:[{required:!0,message:"请输入设备型号",trigger:"blur"}],model:[{required:!0,message:"请输入设备型号",trigger:"blur"}],img:[{required:!0,message:"请添加图片",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],woody:[{required:!0,message:"请选择",trigger:"blur"}]},model:t.tempInfo,"label-position":"left","label-width":"100px"}},[n("el-form-item",{attrs:{label:"设备名称",prop:"name"}},[n("el-input",{staticStyle:{width:"100%"},model:{value:t.tempInfo.name,callback:function(e){t.$set(t.tempInfo,"name",e)},expression:"tempInfo.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"设备编号",prop:"code"}},[n("el-input",{staticStyle:{width:"100%"},model:{value:t.tempInfo.code,callback:function(e){t.$set(t.tempInfo,"code",e)},expression:"tempInfo.code"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"设备型号",prop:"model"}},[n("el-input",{staticStyle:{width:"100%"},model:{value:t.tempInfo.model,callback:function(e){t.$set(t.tempInfo,"model",e)},expression:"tempInfo.model"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"价格",prop:"price"}},[n("el-input",{staticStyle:{width:"100%"},model:{value:t.tempInfo.price,callback:function(e){t.$set(t.tempInfo,"price",e)},expression:"tempInfo.price"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"历史总量",prop:"total_count"}},[n("el-input",{staticStyle:{width:"100%"},model:{value:t.tempInfo.total_count,callback:function(e){t.$set(t.tempInfo,"total_count",e)},expression:"tempInfo.total_count"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"库存",prop:"library_count"}},[n("el-input",{staticStyle:{width:"100%"},model:{value:t.tempInfo.library_count,callback:function(e){t.$set(t.tempInfo,"library_count",e)},expression:"tempInfo.library_count"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"图片",prop:"img"}},[n("Upload",{model:{value:t.tempInfo.img,callback:function(e){t.$set(t.tempInfo,"img",e)},expression:"tempInfo.img"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"是否属于巫迪科技","label-width":"300px",prop:"woody"}},[n("el-switch",{staticStyle:{display:"block","margin-top":"10px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否"},model:{value:t.tempInfo.woody,callback:function(e){t.$set(t.tempInfo,"woody",e)},expression:"tempInfo.woody"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),"create"===t.dialogStatus?n("el-button",{attrs:{type:"primary"},on:{click:t.createData}},[t._v("确认\n      ")]):n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData(t.tempInfo.id)}}},[t._v("确认")])],1)],1)],1)},a=[],o=(n("ac6a"),n("9ede")),r=n("1c63"),c=n("cb4a"),l={name:"Custom",components:{Upload:c["a"]},mixins:[r["a"]],data:function(){return{tableKey:0,temp:{id:null,create_time:null,title:""},dao:o["a"],dialogVerifyVisible:!1}},watch:{list:function(){this.list.forEach(function(t,e){t.img||(t.img=Object({VUE_APP_BASE_API:"https://custombackend.woody.vip:8443/api/v1",NODE_ENV:"production",BASE_URL:""}).VUE_APP_BASE_URl1+"/static/upload/20190615/103905woody.png")})}},methods:{handleRemove:function(t,e){},handlePreview:function(t){},indexMethod:function(t){return t+1+(this.pagination.page-1)*this.pagination.limit},updateData:function(t){var e=this;this.$refs["dataForm"].validate(function(n){n&&e.dao.updateObject(t,e.tempInfo).then(function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})})},createData:function(){var t=this;this.$refs["dataForm"].validate(function(e){e&&t.dao.createObject(t.tempInfo).then(function(){t.getList(),t.dialogFormVisible=!1,t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})})},handleUpdate:function(t){var e=this;this.resetTemp(),this.dialogStatus="update",this.dialogFormVisible=!0,this.getOne(t),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})}}},s=l,u=(n("29de"),n("2877")),f=Object(u["a"])(s,i,a,!1,null,"68b3c4ba",null);e["default"]=f.exports},"308d":function(t,e,n){"use strict";var i=n("5d58"),a=n.n(i),o=n("67bb"),r=n.n(o);function c(t){return c="function"===typeof r.a&&"symbol"===typeof a.a?function(t){return typeof t}:function(t){return t&&"function"===typeof r.a&&t.constructor===r.a&&t!==r.a.prototype?"symbol":typeof t},c(t)}function l(t){return l="function"===typeof r.a&&"symbol"===c(a.a)?function(t){return c(t)}:function(t){return t&&"function"===typeof r.a&&t.constructor===r.a&&t!==r.a.prototype?"symbol":c(t)},l(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?s(t):e}n.d(e,"a",function(){return u})},"4aa6":function(t,e,n){t.exports=n("dc62")},"4d16":function(t,e,n){t.exports=n("25b0")},"4e2b":function(t,e,n){"use strict";var i=n("4aa6"),a=n.n(i),o=n("4d16"),r=n.n(o);function c(t,e){return c=r.a||function(t,e){return t.__proto__=e,t},c(t,e)}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=a()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}n.d(e,"a",function(){return l})},"5d58":function(t,e,n){t.exports=n("d8d6")},"5dbc":function(t,e,n){var i=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var o,r=e.constructor;return r!==n&&"function"==typeof r&&(o=r.prototype)!==n.prototype&&i(o)&&a&&a(t,o),t}},"67bb":function(t,e,n){t.exports=n("f921")},"6bb5":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("061b"),a=n.n(i),o=n("4d16"),r=n.n(o);function c(t){return c=r.a?a.a:function(t){return t.__proto__||a()(t)},c(t)}},"8b97":function(t,e,n){var i=n("d3f4"),a=n("cb7c"),o=function(t,e){if(a(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},9427:function(t,e,n){var i=n("63b6");i(i.S,"Object",{create:n("a159")})},"9ede":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("d225"),a=n("308d"),o=n("6bb5"),r=n("4e2b"),c=n("a417"),l=function(t){function e(){return Object(i["a"])(this,e),Object(a["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),e}(c["a"]),s=new l("/manager/goods")},a417:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("d225"),a=n("b0b4"),o=n("b775"),r=function(){function t(e){Object(i["a"])(this,t),this.url=e}return Object(a["a"])(t,[{key:"fetchList",value:function(t,e){var n={};if(t)if(t.page){var i=t.page;n["start"]=(i-1)*t.limit,n["limit"]=t.limit}else n["start"]=0,n["limit"]=t.limit;return Object.assign(n,e),Object(o["a"])({url:this.url,method:"get",params:n})}},{key:"exportList",value:function(t,e){return Object(o["a"])({url:"".concat(this.url),method:"export",responseType:"blob",params:e})}},{key:"fetchObject",value:function(t){return Object(o["a"])({url:"".concat(this.url,"/").concat(t),method:"get"})}},{key:"createObject",value:function(t){return Object(o["a"])({url:this.url,method:"post",data:t})}},{key:"updateObject",value:function(t,e){return Object(o["a"])({url:"".concat(this.url,"/").concat(t),method:"put",data:e})}},{key:"deleteObject",value:function(t){return Object(o["a"])({url:"".concat(this.url,"/").concat(t),method:"delete"})}}]),t}()},aa77:function(t,e,n){var i=n("5ca1"),a=n("be13"),o=n("79e5"),r=n("fdef"),c="["+r+"]",l="​",s=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),f=function(t,e,n){var a={},c=o(function(){return!!r[t]()||l[t]()!=l}),s=a[t]=c?e(d):r[t];n&&(a[n]=s),i(i.P+i.F*c,"String",a)},d=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},b0b4:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("85f2"),a=n.n(i);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),a()(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}},b25c:function(t,e,n){},c5f6:function(t,e,n){"use strict";var i=n("7726"),a=n("69a8"),o=n("2d95"),r=n("5dbc"),c=n("6a99"),l=n("79e5"),s=n("9093").f,u=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,p="Number",m=i[p],h=m,b=m.prototype,g=o(n("2aeb")(b))==p,y="trim"in String.prototype,v=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var n,i,a,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(var r,l=e.slice(2),s=0,u=l.length;s<u;s++)if(r=l.charCodeAt(s),r<48||r>a)return NaN;return parseInt(l,i)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(g?l(function(){b.valueOf.call(n)}):o(n)!=p)?r(new h(v(e)),n,m):v(e)};for(var _,w=n("9e1e")?s(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)a(h,_=w[x])&&!a(m,_)&&f(m,_,u(h,_));m.prototype=b,b.constructor=m,n("2aba")(i,p,m)}},d225:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return i})},dc62:function(t,e,n){n("9427");var i=n("584a").Object;t.exports=function(t,e){return i.create(t,e)}},ead6:function(t,e,n){var i=n("f772"),a=n("e4ae"),o=function(t,e){if(a(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("d864")(Function.call,n("bf0b").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},fa99:function(t,e,n){n("0293"),t.exports=n("584a").Object.getPrototypeOf},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);